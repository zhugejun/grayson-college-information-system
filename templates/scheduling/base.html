{% include "includes/header.html" %}

<body>

    {% include "includes/navbar.html" %}
    <script>
    // $(".timepicker").timepicker();
    $(document).ready(function () {
        $('.timepicker').timepicker({
            timeFormat: 'h:mm p',
            interval: 15,
            minTime: '7:00AM',
            maxTime: '10:00PM',
            dynamic: false,
            dropdown: true,
            scrollbar: true
        });
    });

    $(document).ready(function () {
        $('#courseTable').DataTable();
        $('#instructorTable').DataTable();
        $('#scheduleTable').DataTable();
        $('#allSchedulesTable').DataTable();
        $('#scheduleAddTable').DataTable();
        $('#scheduleDeleteTable').DataTable();
        $('#scheduleChangeTable').DataTable();
        $('#searchResultTable').DataTable(); 
    });

</script>

    <div class="container-fluid">
        <div class="row">
          <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
            <div class="position-sticky pt-3">
              <ul class="nav flex-column">
                <li class="nav-item">
                  <a class="nav-link" href="{% url 'scheduling_home' %}">
                    Home
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="{% url 'update_subjects' %}">
                    Department
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="{% url 'change_summary' %}">
                    Changes
                  </a>
                </li>
              </ul>
      
              <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                <span>Recently Edited</span>
              </h6>
              {% if latest_edited_5 %}
              <ul class="nav flex-column mb-2">
                {% for schedule in latest_edited_5 %}
                <li class="nav-item">
                  <a class="nav-link" href="{% url 'edit_schedule' schedule.id %}">
                  {{ schedule }}-{{schedule.term}}
                  </a>
                </li>
                {% endfor %}
              </ul>
              {% endif %}

              <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                <span>Recently Edited</span>
              </h6>
 
              {% if latest_added_5 %}
              <ul class="nav flex-column mb-2">
                {% for schedule in latest_added_5 %}
                <li class="nav-item">
                  <a class="nav-link" href="{% url 'edit_schedule' schedule.id %}">
                  {{ schedule }}-{{schedule.term}}
                  </a>
                </li>
                {% endfor %}
              </ul>
              {% endif %}

            </div>
          </nav>
      
          <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4 mt-3">
                <!-- messages showing as toast -->
            {% if messages %}
              {% for message in messages %}
                {% if message.tags == 'success' %}
                  <div class="toast align-items-center text-white bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true" style="position: absolute; top: 10; right: 0;">
                    <div class="d-flex">
                      <div class="toast-body">
                      {{ message }}
                      </div>
                      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
                    </div>
                  </div>
                {% elif message.tags == 'warning' %}
                  <div class="toast align-items-center text-white bg-warning border-0" role="alert" aria-live="assertive" aria-atomic="true" style="position: absolute; top: 10; right: 0;">
                    <div class="d-flex">
                      <div class="toast-body">
                      {{ message }}
                      </div>
                      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
                    </div>
                  </div>
                {% else %}
                <div class="toast align-items-center text-white bg-error border-0" role="alert" aria-live="assertive" aria-atomic="true" style="position: absolute; top: 10; right: 0;">
                  <div class="d-flex">
                    <div class="toast-body">
                    {{ message }}
                    </div>
                    <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
                  </div>
                </div>
                {% endif %}
              {% endfor %}
            {% endif %}



            <!-- content for schedules -->
            {% block content %}
            {% endblock %}
          </main>
        </div>
    </div>
    
    <script>
      option = {
          animation: true,
          autohide: true,
          delay: 2000
      };
      var toastElement = document.querySelector('.toast');
      var t = new bootstrap.Toast(toastElement, option);
      t.show();
  </script>
</body>
{% include "includes/footer.html" %}

