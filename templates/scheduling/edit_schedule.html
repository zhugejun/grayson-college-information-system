{% extends "scheduling/base.html" %}

{% block content %}

<h1 class="mt-3"><span class="text-info">{{schedule.term}}</span> <span class="text-primary">{{schedule.course}}</span> </h1>

<form class="row" action="{% url 'edit_schedule' schedule.id %}" method="POST">
    {% csrf_token %}

    <div class="row mb-3">
        <div class="form-group col-lg-2">
                {{ form.section.label }} {{ form.section }}
        </div>
        <div class="form-group col-lg-2">
                {{ form.instructor.label }} {{ form.instructor }}
        </div>
        <div class="form-group col-lg-2">
                {{ form.capacity.label }} {{ form.capacity }}
        </div>
        <div class="form-group col-lg-2">
                {{ form.days.label }} {{ form.days }}
        </div>
        <div class="form-group col-lg-2">
            {{ form.start_time.label }} {{ form.start_time }}
            <div class="invalid-feedback">
                Invalid start time.
            </div>
        </div>
        <div class="form-group col-lg-2">
            {{ form.stop_time.label }} {{ form.stop_time }}
            <div class="invalid-feedback">
                Invalid stop time.
            </div>
        </div>
    </div>

    <div class="row">
        <div class="form-group col-lg-2">
            {{ form.status.label }} {{ form.status }}
        </div>
        <div class="form-group col-lg-2">
            {{ form.campus.label }} {{ form.campus }}
            <div class="invalid-feedback">
                Campus should be Internet.
            </div>
        </div>
        <div class="form-group col-lg-2">
            {{ form.location.label }} {{ form.location }}
            <div class="invalid-feedback">
                Location should be Internet.
            </div>
        </div>
        <div class="form-group col-lg-4">
            {{ form.notes.label }} {{ form.notes }}
        </div>
        <div>
            {{ form.course.as_hidden }}
        </div>
        <div>{{ form.term.as_hidden }}</div>
    </div>

    <div class="text-center mt-2">
        <button type="submit" class="btn btn-dark btn-lg ml-5">Submit</button>
    </div>
</form>

<script>
    $("#id_instructor").html($("#id_instructor option").sort(function (a, b) {
        return a.text == b.text ? 0 : a.text < b.text ? -1 : 1
    }))

    $(document).ready(function() {
        $("#id_instructor").select2({theme: 'bootstrap-5'});
        $("#id_status").select2({theme: 'bootstrap-5'});
        $("#id_campus").select2({theme: 'bootstrap-5'});
        $("#id_location").select2({theme: 'bootstrap-5'});
    })
</script>
{% endblock content %}
